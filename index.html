<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gerador de Anúncio de Veículo</title>
    <!-- Incluindo Tailwind CSS para um design moderno -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Adicionando a fonte moderna 'Inter' do Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;900&display=swap" rel="stylesheet">
    <!-- Biblioteca para compactar arquivos em ZIP -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        /* Estilo para a animação do switch do câmbio */
        .peer:checked ~ .peer-checked\:after\:translate-x-full::after {
            transform: translateX(100%);
        }
        .peer:checked ~ .peer-checked\:bg-red-600 {
            background-color: #DC2626; /* red-600 */
        }
        /* Estilização para o placeholder do input de arquivo */
        input[type="file"]::file-selector-button {
            @apply bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded-lg cursor-pointer transition-colors duration-300;
        }
        .loader {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #db2777;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="bg-gray-900 text-white font-sans antialiased" oncontextmenu="return false;">

    <div class="container mx-auto p-4 md:p-8 max-w-6xl">
        <!-- Cabeçalho -->
        <header class="text-center mb-8">
            <h1 class="text-4xl md:text-5xl font-bold text-red-500">Gerador de Anúncio de Veículo</h1>
            <p class="text-gray-400 mt-2">Preencha os dados, anexe uma foto e crie sua imagem de venda na hora.</p>
        </header>

        <!-- Conteúdo principal: formulário e prévia -->
        <main class="grid grid-cols-1 lg-grid-cols-2 gap-8">
            <!-- Coluna do Formulário -->
            <div class="bg-gray-800 p-6 rounded-xl shadow-2xl">
                <form id="vehicleForm" class="space-y-6">
                    <!-- Foto do Veículo -->
                    <div>
                        <label for="vehiclePhoto" class="block text-lg font-semibold text-gray-200 mb-2">1. Fotos do Veículo</label>
                        <input type="file" id="vehiclePhoto" accept="image/*" required multiple class="block w-full text-sm text-gray-400 file:mr-4 file:border-0 rounded-lg">
                    </div>
                    
                    <hr class="border-gray-600">
                    <h2 class="text-lg font-semibold text-gray-200 !mt-4">2. Detalhes do Anúncio</h2>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <!-- Marca -->
                        <div>
                            <label for="marca" class="block text-sm font-medium text-gray-300">Marca</label>
                            <input type="text" id="marca" placeholder="Ex: Hyundai" class="mt-1 block w-full bg-gray-700 border-gray-600 rounded-md shadow-sm focus:ring-red-500 focus:border-red-500 text-white">
                        </div>
                        <!-- Modelo -->
                        <div>
                            <label for="modelo" class="block text-sm font-medium text-gray-300">Modelo</label>
                            <input type="text" id="modelo" placeholder="Ex: HB20 Comfort" class="mt-1 block w-full bg-gray-700 border-gray-600 rounded-md shadow-sm focus:ring-red-500 focus:border-red-500 text-white">
                        </div>
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <!-- Ano do Veículo -->
                        <div>
                            <label for="ano" class="block text-sm font-medium text-gray-300">Ano</label>
                            <input type="text" id="ano" placeholder="Ex: 2022" class="mt-1 block w-full bg-gray-700 border-gray-600 rounded-md shadow-sm focus:ring-red-500 focus:border-red-500 text-white">
                        </div>
                        <!-- Kilometragem -->
                        <div>
                            <label for="km" class="block text-sm font-medium text-gray-300">Kilometragem</label>
                            <input type="text" id="km" placeholder="Ex: 50000" class="mt-1 block w-full bg-gray-700 border-gray-600 rounded-md shadow-sm focus:ring-red-500 focus:border-red-500 text-white">
                        </div>
                    </div>

                    <!-- Motor -->
                    <div>
                        <label for="cilindrada" class="block text-sm font-medium text-gray-300">Motor</label>
                        <input type="text" id="cilindrada" placeholder="Ex: 1.0" class="mt-1 block w-full bg-gray-700 border-gray-600 rounded-md shadow-sm focus:ring-red-500 focus:border-red-500 text-white">
                    </div>
                    
                    <!-- Câmbio -->
                    <div class="flex items-center justify-between">
                         <label for="cambio" class="block text-sm font-medium text-gray-300">Câmbio</label>
                        <div class="flex items-center space-x-3">
                            <span class="text-sm font-medium text-gray-400">Manual</span>
                            <label class="relative inline-flex items-center cursor-pointer">
                                <input type="checkbox" id="cambio" class="sr-only peer">
                                <div class="w-11 h-6 bg-gray-600 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-red-600"></div>
                            </label>
                             <span class="text-sm font-medium text-gray-400">Automático</span>
                        </div>
                    </div>

                    <!-- Observação -->
                    <div>
                        <label for="observacao" class="block text-sm font-medium text-gray-300">Observação</label>
                        <input type="text" id="observacao" placeholder="Ex: Completo" class="mt-1 block w-full bg-gray-700 border-gray-600 rounded-md shadow-sm focus:ring-red-500 focus:border-red-500 text-white">
                    </div>

                    <!-- Preço -->
                     <div>
                        <label for="preco" class="block text-sm font-medium text-gray-300">Preço</label>
                        <input type="text" id="preco" placeholder="Ex: 59900" class="mt-1 block w-full bg-gray-700 border-gray-600 rounded-md shadow-sm focus:ring-red-500 focus:border-red-500 text-white">
                    </div>

                    <hr class="border-gray-600">
                    <h2 class="text-lg font-semibold text-gray-200 !mt-4">3. Contato</h2>
                     <!-- Telefone -->
                    <div>
                        <label for="telefone" class="block text-sm font-medium text-gray-300">Telefone para WhatsApp</label>
                        <input type="tel" id="telefone" maxlength="15" placeholder="(00) 90000-0000" class="mt-1 block w-full bg-gray-700 border-gray-600 rounded-md shadow-sm focus:ring-red-500 focus:border-red-500 text-white">
                    </div>
                </form>
            </div>

            <!-- Coluna da Prévia -->
            <div class="bg-gray-800 p-6 rounded-xl shadow-2xl flex flex-col items-center justify-center min-h-[400px]">
                <div id="previewArea" class="w-full aspect-video bg-gray-700 rounded-md flex items-center justify-center text-gray-500 border-2 border-dashed border-gray-600">
                    <span class="text-center">A prévia da imagem aparecerá aqui<br>após carregar uma foto.</span>
                </div>
                 <button id="downloadBtn" class="hidden mt-6 bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-6 rounded-lg transition-colors text-lg flex items-center justify-center space-x-2">
                    <span id="downloadBtnText">Baixar Anúncio</span>
                    <div id="loader" class="loader hidden"></div>
                </button>
            </div>
        </main>
    </div>

    <script>
    // O código abaixo foi ofuscado para dificultar a cópia e alteração não autorizada.
    window.addEventListener('load',function(){const e=document.getElementById('vehicleForm'),t=document.getElementById('vehiclePhoto'),n=document.getElementById('telefone'),o=document.getElementById('preco'),a=document.getElementById('km'),i=document.getElementById('previewArea'),d=document.getElementById('downloadBtn'),l=document.getElementById('downloadBtnText'),r=document.getElementById('loader'),c=document.createElement('canvas'),s=c.getContext('2d');c.className="rounded-md shadow-lg w-full h-auto";let u=[];const m='#ce191f',p="Av. São João, 3430",h=new Image;h.src="https://wb238.criadordeanuncio.com/images/logo.png",h.crossOrigin="Anonymous";const g=new Image;g.src="https://wb238.criadordeanuncio.com/images/logo-zap.png",g.crossOrigin="Anonymous";const v=new Image;v.src="https://wb238.criadordeanuncio.com/images/logo-maps.png",v.crossOrigin="Anonymous";const f=new Image;f.src="https://wb238.criadordeanuncio.com/images/logo-tools.png",f.crossOrigin="Anonymous";[h,g,v,f].forEach(e=>{e.onload=()=>L()});function E(){localStorage.setItem('savedTelefone',n.value)}function b(){n.value=localStorage.getItem('savedTelefone')||''}b(),t.addEventListener('change',w),e.addEventListener('input',()=>setTimeout(L,50)),d.addEventListener('click',j),n.addEventListener('input',()=>{n.value=I(n.value),E()}),o.addEventListener('input',e=>{e.target.value=y(e.target.value)}),a.addEventListener('input',e=>{e.target.value=e.target.value.replace(/\D/g,'')});function I(e){return e=e.replace(/\D/g,''),e=e.replace(/^(\d{2})(\d)/,'($1) $2'),e=e.replace(/(\d{4,5})(\d{4})$/,'$1-$2')}function y(e){return e.replace(/\D/g,'')}function F(e){const t=parseFloat(e);return isNaN(t)?"":t.toLocaleString('pt-BR',{style:'currency',currency:'BRL'})}function x(e){const t=parseInt(e,10);return isNaN(t)?"":`${t.toLocaleString('pt-BR')} KM`}function w(e){const t=e.target.files;if(!t||0===t.length)return;u=[];const n=Array.from(t).map(e=>new Promise((t,n)=>{if(e.type.startsWith('image/')){const o=new FileReader;o.onload=e=>{const n=new Image;n.onload=()=>{u.push(n),t()},n.onerror=n,n.src=e.target.result},o.onerror=n,o.readAsDataURL(e)}else t()}));Promise.all(n).then(()=>{u.length>0&&(i.innerHTML='',i.appendChild(c),setTimeout(L,100))})}function C(){return{marca:document.getElementById('marca').value.trim(),modelo:document.getElementById('modelo').value.trim(),ano:document.getElementById('ano').value.trim(),km:document.getElementById('km').value.trim(),preco:document.getElementById('preco').value.trim(),cilindrada:document.getElementById('cilindrada').value.trim(),cambio:document.getElementById('cambio').checked?'Automático':'Manual',observacao:document.getElementById('observacao').value.trim(),telefone:document.getElementById('telefone').value.trim(),endereco:p}}async function L(){if(0===u.length)return;const e=u[0],t=C(),n=e.height*.15,o=e.height*.18;c.width=e.width,c.height=e.height+n+o,s.clearRect(0,0,c.width,c.height),s.fillStyle='black',s.fillRect(0,0,c.width,c.height),s.drawImage(e,0,n,e.width,e.height),B(s,c.width,e.height,n,o,t),d.classList.remove('hidden');const a=i.querySelector('.image-count');a&&a.remove();const l=document.createElement('span');l.className='image-count absolute top-2 right-2 bg-gray-900 bg-opacity-70 text-white text-xs px-2 py-1 rounded-full',l.textContent=`${u.length} imagem(s)`,i.style.position='relative',i.appendChild(l)}function A(e){e?(d.disabled=!0,l.textContent='Gerando...',r.classList.remove('hidden')):(d.disabled=!1,l.textContent='Baixar Anúncio',r.classList.add('hidden'))}async function j(){if(0===u.length)return;A(!0);const e=new JSZip,t=C();for(let n=0;n<u.length;n++){const o=u[n],a=document.createElement('canvas'),i=a.getContext('2d'),d=o.height*.15,l=o.height*.18;a.width=o.width,a.height=o.height+d+l,i.fillStyle='black',i.fillRect(0,0,a.width,a.height),i.drawImage(o,0,d,o.width,o.height),B(i,a.width,o.height,d,l,t);const r=await new Promise(e=>a.toBlob(e,'image/jpeg',.95));e.file(`anuncio-${n+1}.jpg`,r)}e.generateAsync({type:'blob'}).then(e=>{const t=document.createElement('a');t.href=URL.createObjectURL(e),t.download="anuncios.zip",document.body.appendChild(t),t.click(),document.body.removeChild(t),A(!1)})}function B(e,t,n,o,a,i){const d=t*.03;e.fillStyle='rgba(0, 0, 0, 0.6)',e.fillRect(0,0,t,o),e.fillStyle=m,e.beginPath(),e.moveTo(.6*t,0),e.lineTo(t,0),e.lineTo(t,o),e.lineTo(.65*t,o),e.closePath(),e.fill(),e.fillStyle='white',e.textAlign='left',e.textBaseline='middle';const l=.3*o;e.font=`900 ${.3*o}px 'Inter'`,e.fillText(i.marca.toUpperCase(),d,l);const r=.65*o;e.font=`700 ${.23*o}px 'Inter'`,e.fillText(i.modelo.toUpperCase(),d,r);const c=e.measureText(i.modelo.toUpperCase()),u=.02*t+d+c.width;e.font=`700 ${.18*o}px 'Inter'`;const C=e.measureText(i.ano);e.fillStyle=m,e.fillRect(u-5,r-.18*o/2-5,C.width+10,.22*o+5),e.fillStyle='white',e.fillText(i.ano,u,r),e.textAlign='right',e.font=`900 ${.4*o}px 'Inter'`,e.fillText(F(i.preco),t-d,o/2);const A=n+o,k=.4*a,T=A+k,L=a-k;e.fillStyle=m,e.fillRect(0,A,t,k),e.fillStyle='rgba(10, 10, 10, 0.85)',e.fillRect(0,T,t,L),e.fillStyle='white',e.textBaseline='middle';let B=`${i.cambio.toUpperCase()}   |   ${i.cilindrada}   |   ${x(i.km)}`;i.observacao&&(B+=`   |   ${i.observacao.toUpperCase()}`);const S=`700 ${.5*k}px 'Inter'`;e.font=S;const M=e.measureText(B),_=.5*k,N=.4*_,U=N+_+M.width,O=A+k/2,D=t-d-U;e.textAlign='left',f.complete&&0!==f.naturalWidth&&e.drawImage(f,D,O-_/2,_,_),e.fillText(B,D+_+N,O);const P=T+L/2,z=.5*k,W=.4*z,G=.03*t;e.font=S;const H=[{icon:g,text:i.telefone},{icon:v,text:i.endereco}];let j=0;const K=H.map(t=>{const n=e.measureText(t.text.toUpperCase()),o=z+W+n.width;return j+=o,o});j+=G*(H.length-1);let Q=0;if(h.complete&&0!==h.naturalWidth){const e=1.1*a,n=.4*t,o=Math.min(n/h.width,e/h.height);Q=h.width*o}const R=d+Q+G,J=t-R-d;let V=R+(J-j)/2;e.textAlign='left',H.forEach((t,n)=>{t.icon.complete&&0!==t.icon.naturalWidth&&e.drawImage(t.icon,V,P-z/2,z,z),e.fillText(t.text.toUpperCase(),V+z+W,P),V+=K[n]+G}),h.complete&&0!==h.naturalWidth&&(e.drawImage(h,d,A-(h.height*(Q/h.width)-a)/2,Q,h.height*(Q/h.width)))}setInterval(()=>{const e=new Date;debugger;new Date-e>100&&(document.body.innerHTML='<h1>Ferramentas de desenvolvedor não são permitidas.</h1>')},1e3)});
    </script>
</body>
</html>

